(this["webpackJsonpnatureremo-webapp"]=this["webpackJsonpnatureremo-webapp"]||[]).push([[0],{1:function(e,t,a){e.exports={icon:"Icons_icon__JpKe2",power:"Icons_power__1Fm_Y",off:"Icons_off__2dwQ_",on:"Icons_on__2hgue",fill:"Icons_fill__2DKhb",light:"Icons_light__r3b6w",up:"Icons_up__1MTUK",down:"Icons_down__1nT2N",blue:"Icons_blue__2Ig2m",red:"Icons_red__GL8yS",green:"Icons_green__8AUZ1",yellow:"Icons_yellow__oGbyV"}},15:function(e,t,a){e.exports={device:"Device_device__2EeWi",nickname:"Device_nickname__1dqac",sensor:"Device_sensor__1DX5O",value:"Device_value__23R-y",measure:"Device_measure__2IMgJ",appliances:"Device_appliances__1H2Jt"}},18:function(e,t,a){e.exports={appliance:"Appliance_appliance__2XeRH",main:"Appliance_main__XdmMo",circle:"Appliance_circle__2AI3s",on:"Appliance_on__1BlAG","circle-spin":"Appliance_circle-spin__bdBRf",power:"Appliance_power__3U6ux",icon:"Appliance_icon__1Ugmc",label:"Appliance_label__3bgIE"}},20:function(e,t,a){e.exports={buttons_ac:"ButtonsAC_buttons_ac__1odLH",buttons:"ButtonsAC_buttons__26wzd",on:"ButtonsAC_on__-6J8_","circle-spin":"ButtonsAC_circle-spin__2WRHS",mode:"ButtonsAC_mode__c4SCo",settings:"ButtonsAC_settings__3ubv_",signals:"ButtonsAC_signals__3ISlS"}},22:function(e,t,a){e.exports={button:"Button_button__LwMAv",label:"Button_label__KJrE9"}},29:function(e,t,a){e.exports={buttons_light:"ButtonsLight_buttons_light__rYFnM",buttons:"ButtonsLight_buttons__7NEw7",signals:"ButtonsLight_signals__8uhDQ"}},30:function(e,t,a){e.exports={buttons_tv:"ButtonsTV_buttons_tv__3_i0T",buttons:"ButtonsTV_buttons__1Lbgy",signals:"ButtonsTV_signals__h1wl8"}},35:function(e,t,a){e.exports={config:"Config_config__11T7c",warning:"Config_warning__2pTaJ"}},36:function(e,t,a){e.exports={buttons_ir:"ButtonsIR_buttons_ir__3txS5",signals:"ButtonsIR_signals__2aExm"}},44:function(e,t,a){e.exports=a.p+"static/media/logo.a7d3cf01.svg"},46:function(e,t,a){e.exports=a(66)},55:function(e,t,a){},56:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(26),i=a.n(r),o=a(16),l=a(24),s=a(42),u=a(43),m=a.n(u)()(),p={updateDevices:m("ACTIONS_UPDATE_DEVICES"),updateAppliances:m("ACTIONS_UPDATE_APPLIANCES"),updateAppliance:m("ACTIONS_UPDATE_APPLIANCE")},h=Object(s.reducerWithInitialState)({appliances:[],devices:[]}).case(p.updateAppliances,(function(e,t){return Object.assign({},e,{appliances:t})})).case(p.updateDevices,(function(e,t){return Object.assign({},e,{devices:t})})).case(p.updateAppliance,(function(e,t){var a=e.appliances.map((function(e){return e.id===t.id?t.appliance:e}));return Object.assign({},e,{appliances:a})})),v=Object(l.c)(Object(l.b)({remo:h})),_=(a(55),a(4)),f=a(5),d=a(6),g=a(9),E=a(10),w=a(12),b=(a(56),a(31));function y(e){return{updateDevices:function(t){return e(p.updateDevices(t))},updateAppliances:function(t){return e(p.updateAppliances(t))},updateAppliance:function(t,a){return e(p.updateAppliance({id:t,appliance:a}))}}}function x(e){return Object.assign({},e.remo)}var k=a(2),T=a.n(k),M=a(7),V=a(25),N=a(28),B=function(){function e(){Object(_.a)(this,e)}return Object(f.a)(e,null,[{key:"setApi",value:function(t){e.basePath=t}},{key:"setToken",value:function(t){e.requestHeaders={Authorization:"Bearer "+t}}},{key:"GetMe",value:function(){var t=Object(M.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get("users/me"));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"PostMe",value:function(){var t=Object(M.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.post("users/me",{nickname:a}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"GetDevices",value:function(){var t=Object(M.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get("devices"));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"GetAppliances",value:function(){var t=Object(M.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get("appliances"));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"SendSignal",value:function(){var t=Object(M.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.post(V.join("signals",a,"send"),null));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"SendTVButton",value:function(){var t=Object(M.a)(T.a.mark((function t(a,n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.post(V.join("appliances",a,"tv"),{button:n}));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"SendLightButton",value:function(){var t=Object(M.a)(T.a.mark((function t(a,n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.post(V.join("appliances",a,"light"),{button:n}));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"SendAirconSettings",value:function(){var t=Object(M.a)(T.a.mark((function t(a,n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.post(N.resolve(e.basePath,V.join("appliances",a,"aircon_settings")),n));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=Object(M.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var c=new XMLHttpRequest;c.open("GET",N.resolve(e.basePath,a),!0),Object.keys(e.requestHeaders).forEach((function(t){return c.setRequestHeader(t,e.requestHeaders[t])})),c.onload=function(){4===c.readyState&&200===c.status?c.responseText?t(JSON.parse(c.responseText)):t(null):n(new Error(c.statusText))},c.onerror=function(){return n(new Error(c.statusText))},c.send(null)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=Object(M.a)(T.a.mark((function t(a,n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,c){var r=new XMLHttpRequest;r.open("POST",N.resolve(e.basePath,a),!0),Object.keys(e.requestHeaders).forEach((function(t){return r.setRequestHeader(t,e.requestHeaders[t])})),r.setRequestHeader("content-type","application/x-www-form-urlencoded"),r.onload=function(){4===r.readyState&&200===r.status?r.responseText?t(JSON.parse(r.responseText)):t(null):c(new Error(r.statusText))},r.onerror=function(){return c(new Error(r.statusText))},r.send(e.EncodeHTMLForm(n))})));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"EncodeHTMLForm",value:function(e){var t=[];for(var a in e){var n=e[a],c=encodeURIComponent(a)+"="+encodeURIComponent(n);t.push(c)}return t.join("&").replace(/%20/g,"+")}}]),e}();B.basePath="https://api.nature.global/1/",B.requestHeaders={};var C=B,j=a(15),A=a.n(j),O=a(39);O.a.init({lng:window.navigator.language,resources:{ja:{translation:{dir:"\u98a8\u5411",vol:"\u98a8\u91cf",cool:"\u51b7\u623f",warm:"\u6696\u623f",auto:"\u81ea\u52d5",dry:"\u9664\u6e7f",blow:"\u9001\u98a8",here:"\u3053\u3061\u3089",product_warning:"\u3053\u306e\u30a2\u30d7\u30ea\u306fNature Inc.\u3068\u306f\u7121\u95a2\u4fc2\u3067\u3059",get_access_token:"Nature\u306e\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3057\u3066\u304f\u3060\u3055\u3044",access_token:"\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3",save:"\u4fdd\u5b58",humid:"\u6e7f\u5ea6",temp:"\u6e29\u5ea6",bright:"\u7167\u5ea6",Light_on:"",Light_off:"",Light_all:"\u5168\u706f",Light_favorite:"\u304a\u6c17\u306b\u5165\u308a",Light_night:"\u5e38\u591c\u706f",Light_bright:"",Light_dark:"",Light_warm:"",Light_cold:"",TV_power:"\u96fb\u6e90",TV_source:"\u5165\u529b\u5207\u66ff",TV_schedule:"\u756a\u7d44\u8868",TV_mute:"\u6d88\u97f3",TV_terrestrial:"\u5730\u4e0a\u6ce2",TV_BS:"BS",TV_CS:"CS",TV_select_audio:"\u97f3\u58f0\u5207\u66ff",TV_1:"1",TV_2:"2",TV_3:"3",TV_4:"4",TV_5:"5",TV_6:"6",TV_7:"7",TV_8:"8",TV_9:"9",TV_10:"10",TV_11:"11",TV_12:"12",TV_back:"\u623b\u308b",TV_home:"\u30db\u30fc\u30e0",TV_display_change:"\u753b\u9762\u8868\u793a",TV_data:"\u30c7\u30fc\u30bf",TV_next_channel:"",TV_previous_channel:"",TV_left:"",TV_top:"",TV_right:"",TV_bottom:"",TV_ok:"",TV_volume_up:"",TV_volume_down:"",TV_blue:"",TV_red:"",TV_green:"",TV_yellow:"",TV_fast_rewind:"",TV_play:"",TV_record:"",TV_fast_forward:"",TV_previous:"",TV_pause:"",TV_stop:"",TV_next:"",TV_rec_list:"\u9332\u753b\u30ea\u30b9\u30c8",TV_subtitle:"\u5b57\u5e55",TV_option:"\u30aa\u30d7\u30b7\u30e7\u30f3"}},en:{translation:{dir:"Air Direction",vol:"Air Volume",cool:"Cool",warm:"Warm",auto:"Auto",dry:"Dry",blow:"Blow",here:"Here",product_warning:"This application has nothing to do with Nature Inc.",get_access_token:"Get Access Token from Nature's official site.",access_token:"Access Token",save:"Save",humid:"Humid",temp:"Temp",bright:"Bright",Light_on:"",Light_off:"",Light_all:"All",Light_favorite:"Favorite",Light_night:"Night",Light_bright:"",Light_dark:"",Light_warm:"",Light_cold:"",TV_power:"",TV_source:"Source",TV_schedule:"Schedule",TV_mute:"Mute",TV_terrestrial:"Terrestrial",TV_BS:"BS",TV_CS:"CS",TV_select_audio:"Select Audio",TV_1:"1",TV_2:"2",TV_3:"3",TV_4:"4",TV_5:"5",TV_6:"6",TV_7:"7",TV_8:"8",TV_9:"9",TV_10:"10",TV_11:"11",TV_12:"12",TV_back:"Back",TV_home:"Home",TV_display_change:"Display Change",TV_data:"Data",TV_next_channel:"",TV_previous_channel:"",TV_left:"",TV_top:"",TV_right:"",TV_bottom:"",TV_ok:"",TV_volume_up:"",TV_volume_down:"",TV_blue:"",TV_red:"",TV_green:"",TV_yellow:"",TV_fast_rewind:"",TV_play:"",TV_record:"",TV_fast_forward:"",TV_previous:"",TV_pause:"",TV_stop:"",TV_next:"",TV_rec_list:"Rec List",TV_subtitle:"Subtitle",TV_option:"Option"}}}});var S=O.a,L=c.a.memo((function(e){var t,a,n;return c.a.createElement("div",{className:A.a.device},c.a.createElement("header",null,c.a.createElement("span",{className:A.a.nickname},e.device.name),c.a.createElement("span",{className:A.a.sensor},(null===(t=e.device.newest_events)||void 0===t?void 0:t.te)&&c.a.createElement("span",null,S.t("temp"),":",c.a.createElement("span",{className:A.a.measure},"\u2103"),c.a.createElement("span",{className:A.a.value},e.device.newest_events.te.val)),(null===(a=e.device.newest_events)||void 0===a?void 0:a.hu)&&c.a.createElement("span",{className:A.a.humid},S.t("humid"),":",c.a.createElement("span",{className:A.a.measure},"%"),c.a.createElement("span",{className:A.a.value},e.device.newest_events.hu.val)),(null===(n=e.device.newest_events)||void 0===n?void 0:n.il)&&c.a.createElement("span",{className:A.a.illumi},S.t("bright"),":",c.a.createElement("span",{className:A.a.value},e.device.newest_events.il.val)))),c.a.createElement("div",{className:A.a.appliances},e.children))})),I=a(18),R=a.n(I),z=a(1),D=a.n(z),P=function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.etc),viewBox:"0 0 200 200"},c.a.createElement("rect",{x:"40",y:"70",height:"60",width:"120",rx:"10",ry:"10"}),c.a.createElement("rect",{x:"70",y:"80",height:"40",width:"60",rx:"10",ry:"10"}),c.a.createElement("path",{d:" M 90 90 v20 M 110 90 v20 "}),"Etc")},H=c.a.memo((function(e){return c.a.createElement("svg",{className:[D.a.icon,D.a.power,D.a[e.power]].join(" "),viewBox:"0 0 50 50"},c.a.createElement("path",{d:" M 25,8 25,28 M 20,16 A12 12 0 1 0 30,16 "}),"Power")})),W=function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.tv),viewBox:"0 0 200 200"},c.a.createElement("rect",{x:"20",y:"55",width:"160",height:"90",rx:"5",ry:"5"}),c.a.createElement("path",{d:"M 40,160 h120"}),"TV")},G=c.a.memo((function(e){var t=c.a.createRef();return Object(n.useEffect)((function(){if(t.current){var e=t.current;e.querySelector("text").style.fontSize=e.clientWidth/6+"px"}})),c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.text),viewBox:"0 0 50 50",ref:t},c.a.createElement("text",{x:"50%",y:"50%",dominantBaseline:"central",textAnchor:"middle"},e.value),e.value)})),q=function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.gear].join(" "),viewBox:"0 0 200 200"},c.a.createElement("g",{strokeWidth:"30"},c.a.createElement("circle",{r:"40",cx:"100",cy:"100"}),c.a.createElement("path",{d:" M100,60 v-30 M100,140 v30 M60,100 h-30 M140,100 h30 "}),c.a.createElement("g",{transform:"rotate(45, 100, 100)"},c.a.createElement("path",{d:" M100,60 v-30 M100,140 v30 M60,100 h-30 M140,100 h30 "}))),"Gear")},F=function(){return c.a.createElement("path",{d:" M 40,130 h120 Q 165 130 161.6 124.5 L 102,50 Q 100 47.5 98 50 L 38,125 Q 35 130 40 130 "})},U=function(){return c.a.createElement("rect",{x:"50",y:"50",width:"100",height:"100",rx:"10",ry:"10"})},Q={ico_av:function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.av),viewBox:"0 0 200 200"},c.a.createElement("rect",{x:"20",y:"70",height:"60",width:"160",rx:"5",ry:"5"}),c.a.createElement("rect",{x:"40",y:"80",height:"20",width:"80",rx:"5",ry:"5"}),c.a.createElement("circle",{r:"15",cx:"150",cy:"100"}),c.a.createElement("path",{d:"M 40,115 h10 m 10,0 h10 m10,0 h10"}),"AV")},ico_ac_1:function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.aircon1),viewBox:"0 0 200 200"},c.a.createElement("rect",{x:"10",y:"75",width:"180",height:"50",rx:"5",ry:"5"}),c.a.createElement("path",{d:"m 170,115 h10"}),c.a.createElement("path",{d:"M20,125 v5 A5 5 0 0 0 25,135 H175 A5 5 0 0 0 180,130 v-5"}),"AC1")},ico_ac_0:function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.av),viewBox:"0 0 200 200"},c.a.createElement("rect",{x:"20",y:"50",height:"100",width:"160",rx:"5",ry:"5"}),c.a.createElement("rect",{x:"40",y:"85",height:"30",width:"10",rx:"5",ry:"5"}),c.a.createElement("circle",{r:"5",cx:"45",cy:"130"}),c.a.createElement("rect",{x:"60",y:"85",height:"50",width:"100",rx:"5",ry:"5"}),c.a.createElement("path",{d:" M 40,65 h50 m 20,0 h50 M 60,97.5 h100 M 60,110 h100 M 60,122.5 h100 M 40,150 v10 M 160,150 v10 "}),"AC2")},ico_air_purifier:function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.airpurifier),viewBox:"0 0 200 200"},c.a.createElement("rect",{x:"50",y:"30",height:"140",width:"100",rx:"10",ry:"10"}),c.a.createElement("circle",{r:"10",cx:"100",cy:"60"}),c.a.createElement("path",{d:" M 65,130 h70 M 65,140 h70 M 65,150 h70 "}),"AirPurifier")},ico_audio:function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.audio),viewBox:"0 0 200 200"},c.a.createElement("rect",{x:"60",y:"40",height:"120",width:"80",rx:"10",ry:"10"}),c.a.createElement("circle",{r:"15",cx:"100",cy:"70"}),c.a.createElement("circle",{r:"2.5",cx:"100",cy:"70"}),c.a.createElement("circle",{r:"20",cx:"100",cy:"125"}),c.a.createElement("circle",{r:"10",cx:"100",cy:"125"}),"Audio")},ico_curtain:function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.curtain),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M 10,10 h180 z M 10,10 v140 a 20 20 1 1 0 40,0 v-140 M 50,10 v140 a 20 20 1 1 0 40,0 v-140 M 90,150 h20 M 110,10 v140 a 20 20 1 1 0 40,0 v-140 M 150,10 v140 a 20 20 1 1 0 40,0 v-140 "}),"Curtain")},ico_etc:P,ico_fan:function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.fan),viewBox:"0 0 200 200"},c.a.createElement("circle",{r:"40",cx:"100",cy:"80"}),c.a.createElement("circle",{r:"5",cx:"100",cy:"80"}),c.a.createElement("path",{d:" M 105,77 a 17 17 1 0 0 -5,-29 M 95,77 a 17 17 1 0 0 -19,25 M 100,85 a 17 17 1 0 0 28,12 M 90,120 v30 M 110,120 v30 M 80,160 h40 v-5 a5 5 1 0 0 -5,-5 h-30 a 5 5 1 0 0 -5,5 v5 z "}),"Fan")},ico_light:function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.light),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M 70,35 h60 v10 a5 5 1 0 1 -5,5 h-50 a5 5 1 0 1 -5,-5 v-10 z M 80,50 a20 20 1 0 0 40,0 M 100,70 v90 M 80,170 h40 v-5 a5 5 1 0 0 -5,-5 h-30 a 5 5 1 0 0 -5,5 v5 z "}),"Light")},ico_tv:W,ico_robot:function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.robot),viewBox:"0 0 200 200"},c.a.createElement("circle",{r:"80",cx:"100",cy:"100"}),c.a.createElement("path",{d:"M35,100 A60 60 1 0 1 165,100"}),c.a.createElement("circle",{r:"50",cx:"100",cy:"100"}),c.a.createElement("circle",{r:"25",cx:"100",cy:"100"}),"Robot")}},J=c.a.memo((function(e){var t,a,n=function(t){t.stopPropagation(),e.onPowerClick&&e.onPowerClick(t)},r=[R.a.main];return a=Q.hasOwnProperty(e.data.image)?Q[e.data.image]:P,"LIGHT"===e.data.type?(t=c.a.createElement("button",{className:R.a.power,onClick:n},c.a.createElement(H,{power:e.data.light.state.power})),r.push(R.a.circle),r.push(R.a[e.data.light.state.power])):"AC"===e.data.type&&(t=c.a.createElement("button",{className:R.a.power,onClick:n},c.a.createElement(H,{power:""===e.data.settings.button?"on":"off"})),r.push(R.a.circle),r.push(R.a[""===e.data.settings.button?"on":"off"])),c.a.createElement("div",{className:R.a.appliance,onClick:e.onClick},c.a.createElement("button",{className:r.join(" ")},c.a.createElement(a,null)),c.a.createElement("span",{className:R.a.label},e.data.nickname),t)})),X=function(e){function t(e){var a;return Object(_.a)(this,t),a=Object(d.a)(this,Object(g.a)(t).call(this,e)),localStorage.getItem("access_token")?a:(a.props.history.push("./config"),Object(d.a)(a))}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.devices.map((function(t){return c.a.createElement(L,{key:t.id,device:t},e.props.appliances.filter((function(e){return e.device.id===t.id})).map((function(t){return c.a.createElement(J,{key:t.id,data:t,onClick:function(a){return e.props.history.push("/appliances/"+t.id)},onPowerClick:function(){var a=Object(M.a)(T.a.mark((function a(n){var c,r;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("LIGHT"!==t.type){a.next=8;break}return a.next=3,C.SendLightButton(t.id,"on"===t.light.state.power?"off":"on");case 3:c=a.sent,t.light.state=c,e.props.updateAppliance(t.id,t),a.next=14;break;case 8:if("AC"!==t.type){a.next=14;break}return a.next=11,C.SendAirconSettings(t.id,{button:"power-off"===t.settings.button?"":"power-off"});case 11:r=a.sent,t.settings=r,e.props.updateAppliance(t.id,t);case 14:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()})})))}));return c.a.createElement(c.a.Fragment,null,t)}}]),t}(c.a.Component),K=Object(o.b)(x,y)(X),Y=a(13),Z=a(35),$=a.n(Z),ee=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).token=void 0,a.token=localStorage.getItem("access_token")||"",a.onTokenChange=a.onTokenChange.bind(Object(Y.a)(a)),a.onClick=a.onClick.bind(Object(Y.a)(a)),a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"onTokenChange",value:function(e){this.token=e.target.value}},{key:"onClick",value:function(e){var t=this;this.token&&this.token.length>0?(localStorage.setItem("access_token",this.token),this.props.history.push("/"),C.setToken(this.token),C.GetDevices().then((function(e){e&&t.props.updateDevices(e)})),C.GetAppliances().then((function(e){e&&t.props.updateAppliances(e)}))):localStorage.removeItem("access_token")}},{key:"render",value:function(){return n.createElement("div",{className:$.a.config},n.createElement("div",{className:$.a.warning},S.t("product_warning")),n.createElement("div",null,S.t("get_access_token")," ",n.createElement("a",{href:"https://home.nature.global"},S.t("here"))),n.createElement("label",null,S.t("access_token"),n.createElement("input",{defaultValue:this.token,autoFocus:!0,onChange:this.onTokenChange})),n.createElement("button",{onClick:this.onClick},S.t("save")))}}]),t}(n.Component),te=Object(o.b)(x,y)(ee),ae=a(22),ne=a.n(ae),ce={ico_lightdown:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.lightdown].join(" "),viewBox:"0 0 200 200"},c.a.createElement("circle",{r:"30",cx:"100",cy:"100"}),c.a.createElement("path",{d:" M 100,50 v-10 M 100,150 v10 "}),c.a.createElement("g",{transform:"rotate(45, 100, 100)"},c.a.createElement("path",{d:" M 100,50 v-10 M 100,150 v10 "})),c.a.createElement("g",{transform:"rotate(90, 100, 100)"},c.a.createElement("path",{d:" M 100,50 v-10 M 100,150 v10 "})),c.a.createElement("g",{transform:"rotate(135, 100, 100)"},c.a.createElement("path",{d:" M 100,50 v-10 M 100,150 v10 "})),"LightDown")}),null),ico_lightup:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.lightup].join(" "),viewBox:"0 0 200 200"},c.a.createElement("circle",{r:"30",cx:"100",cy:"100"}),c.a.createElement("path",{d:" M 100,50 v-30 M 100,150 v30 "}),c.a.createElement("g",{transform:"rotate(45, 100, 100)"},c.a.createElement("path",{d:" M 100,50 v-30 M 100,150 v30 "})),c.a.createElement("g",{transform:"rotate(90, 100, 100)"},c.a.createElement("path",{d:" M 100,50 v-30 M 100,150 v30 "})),c.a.createElement("g",{transform:"rotate(135, 100, 100)"},c.a.createElement("path",{d:" M 100,50 v-30 M 100,150 v30 "})),"LightUp")}),null),ico_minus:c.a.createElement((function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.fill),viewBox:"0 0 200 200"},c.a.createElement("rect",{x:"30",y:"90",width:"140",height:"20"}),"-")}),null),ico_mode_auto:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.modeauto,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M45 45 v100 h-10 v-70 h-10 z M45 155 h100 v10 h-70 v10 z M155 155 v-100 h10 v70 h10 z M155 45 h-100 v-10 h70 v-10 z "}),"ModeAuto")}),null),ico_off:c.a.createElement(G,{value:"OFF"}),ico_on:c.a.createElement(G,{value:"ON"}),ico_plus:c.a.createElement((function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.fill),viewBox:"0 0 200 200"},c.a.createElement("rect",{x:"90",y:"30",width:"20",height:"140"}),c.a.createElement("rect",{x:"30",y:"90",width:"140",height:"20"}),"+")}),null),ico_timer:c.a.createElement((function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.robot),viewBox:"0 0 200 200"},c.a.createElement("circle",{r:"60",cx:"100",cy:"110"}),c.a.createElement("path",{d:" M70,30 h60 M100,100 v-30 "}),c.a.createElement("g",{transform:"rotate(45, 100, 110)"},c.a.createElement("path",{d:" M 100,50 v-20 "})),"Timer")}),null),ico_io:c.a.createElement(H,null),ico_number_1:c.a.createElement(G,{value:"1"}),ico_number_2:c.a.createElement(G,{value:"2"}),ico_number_3:c.a.createElement(G,{value:"3"}),ico_number_4:c.a.createElement(G,{value:"4"}),ico_number_5:c.a.createElement(G,{value:"5"}),ico_number_6:c.a.createElement(G,{value:"6"}),ico_number_7:c.a.createElement(G,{value:"7"}),ico_number_8:c.a.createElement(G,{value:"8"}),ico_number_9:c.a.createElement(G,{value:"9"}),ico_number_10:c.a.createElement(G,{value:"10"}),ico_number_11:c.a.createElement(G,{value:"11"}),ico_number_12:c.a.createElement(G,{value:"12"}),ico_tv:c.a.createElement(G,{value:"TV"}),ico_bs:c.a.createElement(G,{value:"BS"}),ico_cs:c.a.createElement(G,{value:"CS"}),ico_am:c.a.createElement(G,{value:"AM"}),ico_fm:c.a.createElement(G,{value:"FM"}),ico_arrow_top:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.arrowtop,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement(F,null),"ArrowTop")}),null),ico_arrow_bottom:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.arrowbottom,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement("g",{transform:"rotate(180, 100, 100)"},c.a.createElement(F,null)),"ArrowBottom")}),null),ico_arrow_left:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.arrowleft,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement("g",{transform:"rotate(270, 100, 100)"},c.a.createElement(F,null)),"ArrowLeft")}),null),ico_arrow_right:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.arrowright,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement("g",{transform:"rotate(90, 100, 100)"},c.a.createElement(F,null)),"ArrowRight")}),null),ico_play:c.a.createElement((function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.fill),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M 40,40 L160,100 L40,160 z "}),"\u25b6")}),null),ico_backward:c.a.createElement((function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.fill),viewBox:"0 0 200 200"},c.a.createElement("g",{transform:"rotate(180, 100, 100)"},c.a.createElement("path",{d:" M 40,60 l60,40 l-60,40 z M 100,60 l60,40 l-60,40 z "})),"\u23ea")}),null),ico_forward:c.a.createElement((function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.fill),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M 40,60 l60,40 l-60,40 z M 100,60 l60,40 l-60,40 z "}),"\u23e9")}),null),ico_previous:c.a.createElement((function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.fill),viewBox:"0 0 200 200"},c.a.createElement("g",{transform:"rotate(180,100,100)"},c.a.createElement("path",{d:" M 40,60 l60,40 l-60,40 z M 100,60 l60,40 l-60,40 z "}),c.a.createElement("rect",{x:"160",y:"60",height:"80",width:"10"})),"\u23ee")}),null),ico_next:c.a.createElement((function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.fill),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M 40,60 l60,40 l-60,40 z M 100,60 l60,40 l-60,40 z "}),c.a.createElement("rect",{x:"160",y:"60",height:"80",width:"10"}),"\u23ed")}),null),ico_record:c.a.createElement((function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.fill),viewBox:"0 0 200 200"},c.a.createElement("circle",{r:"60",cx:"100",cy:"100"}),"\u23fa")}),null),ico_stop:c.a.createElement((function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.fill),viewBox:"0 0 200 200"},c.a.createElement("rect",{x:"40",y:"40",height:"120",width:"120"}),"\u23f9")}),null),ico_pause:c.a.createElement((function(){return c.a.createElement("svg",{className:"".concat(D.a.icon," ").concat(D.a.fill),viewBox:"0 0 200 200"},c.a.createElement("rect",{x:"60",y:"40",height:"120",width:"20"}),c.a.createElement("rect",{x:"120",y:"40",height:"120",width:"20"}),"\u23f8")}),null),ico_display:c.a.createElement(W,null),ico_home:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.home].join(" "),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M50 60 v100 h100 v-100 L100,40 z "}),c.a.createElement("path",{d:" M90,160 v-40 h20 v40 z ",fillOpacity:"1"}),"Home")}),null),ico_option:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.option,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement("circle",{r:"10",cx:"70",cy:"100"}),c.a.createElement("circle",{r:"10",cx:"100",cy:"100"}),c.a.createElement("circle",{r:"10",cx:"130",cy:"100"}),"Options")}),null),ico_subtitle:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.home].join(" "),viewBox:"0 0 200 200"},c.a.createElement("rect",{x:"30",y:"50",width:"140",height:"100",rx:"5",ry:"5"}),c.a.createElement("circle",{r:"7",cx:"70",cy:"120",fillOpacity:"1"}),c.a.createElement("circle",{r:"7",cx:"100",cy:"120",fillOpacity:"1"}),c.a.createElement("circle",{r:"7",cx:"130",cy:"120",fillOpacity:"1"}),"Subtitle")}),null),ico_color_blue:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.blue,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement(U,null),"ColorBlue")}),null),ico_color_green:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.green,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement(U,null),"ColorGreen")}),null),ico_color_red:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.red,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement(U,null),"ColorRed")}),null),ico_color_yellow:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.yellow,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement(U,null),"ColorYellow")}),null),ico_mute:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.mute].join(" "),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M40,80 h30 l30,-30 v100 l-30,-30 h-30 z ",fillOpacity:"1"}),c.a.createElement("path",{d:" M130,80 l40,40 M130,120 l40,-40 "}),"Mute")}),null),ico_tv_guide:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.schedule].join(" "),viewBox:"0 0 200 200"},c.a.createElement("rect",{x:"25",y:"50",width:"150",height:"100"}),c.a.createElement("path",{d:" M75,50 v100 M125,50 v100 M25,117 h50 M75,88 h50 M125,117 h50 "}),"Schedule")}),null),ico_input:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.input].join(" "),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M30,80 v-30 a 10 10 0 0 1 10 -10 h120 a 10 10 0 0 1 10 10 v100 a 10 10 0 0 1 -10 10 h-120 a 10 10 0 0 1 -10 -10 v-30 "}),c.a.createElement("path",{d:" M30,97.5 h80 v-10 L140,100 L110,112.5 v-10 h-80 z ",fillOpacity:"1"}),"Input")}),null),ico_select_audio:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.selectaudio].join(" "),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M 80,150 L 100,170 L120,150 M 80,150 h -30 a 10 10 0 0 1 -10 -10 v -80 a 10 10 0 0 1 10 -10 h 100 a 10 10 0 0 1 10 10 v 80 a 10 10 0 0 1 -10 10 h -30 M 60,90 h80 M 60,110 h50 "}),"SelectAudio")}),null),ico_return:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.return,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M70,90 v15 l-30,-20 l30,-20 v15 h60 a 30 30 0 1 1 0 60 h-60 v-10 h60 a 20 20 0 1 0 0 -40 z "}),"Return")}),null),ico_d:c.a.createElement(G,{value:"d"}),ico_blast:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.blast].join(" "),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M 50,80 h50 a 15 15 1 1 0 -15,-15 M 50,100 h90 a 15 15 1 1 0 -15,-15 M 50,120 h75 a 15 15 1 1 1 -15,15 "}),"Blast")}),null),ico_light_all:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.lightall].join(" "),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M90,65 h20 M90,75 h 20 v10 a 25 25 0 1 1 -20 0 z "}),c.a.createElement("circle",{r:"2",cx:"100",cy:"147",fillOpacity:"1"}),c.a.createElement("circle",{r:"2",cx:"125",cy:"140",fillOpacity:"1"}),c.a.createElement("circle",{r:"2",cx:"135",cy:"120",fillOpacity:"1"}),c.a.createElement("circle",{r:"2",cx:"75",cy:"140",fillOpacity:"1"}),c.a.createElement("circle",{r:"2",cx:"65",cy:"120",fillOpacity:"1"}),"Return")}),null),ico_light_night:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.lightnight,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M 90,50 a 50 50 0 1 0 60 60 a 30 30 0 0 1 -60 -60 "}),"Return")}),null),ico_light_favorite:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.lightfavorite,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M 100,35 L 145,160 L 35,75 L 165,75 L 55,160 z "}),"Return")}),null),ico_ac_dry:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.dry,D.a.fill].join(" "),viewBox:"0 0 200 200",fillRule:"evenodd"},c.a.createElement("path",{d:" M 100, 30 Q 50 70,50 120 a 50 50 0 1 0 100 0 Q 150 70,100 30 z M 90,160 a 40 40 0 0 1 -30 -30 a 2 2 0 0 1 5 0 a 35 35 0 0 0 25 25 a 2 2 0 0 1 0 5 z "}),"Eco")}),null),ico_ac_warm:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.fan,D.a.fill].join(" "),viewBox:"0 0 200 200",fillRule:"evenodd"},c.a.createElement("path",{d:" M 70,70 a 60 60 0 1 0 60 0 M 70,70 a 40 40 0 0 0 10 50 A 100 100 0 0 1 110 30 A 30 30 0 0 0 130 70 M 58 157 a 54 54 0 1 0 60 -85 a 60 60 0 0 1 -20 70 a 40 40 0 0 0 0 -20 A 60 60 0 0 1 58 157 "}),"Warm")}),null),ico_ac_cool:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.cool].join(" "),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M100,50 v100 M50,100 h100 "}),c.a.createElement("g",{transform:"rotate(45, 100, 100)"},c.a.createElement("path",{d:" M 60,85 h 25 v-25 M 115,60 v 25 h 25 M 115,140 v -25 h 25 M 60,115 h 25 v 25 "})),"Cool")}),null),ico_bloadcast:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.cool].join(" "),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M170,100 v50 a 10 10 0 0 1 -10 10 h-120 a 10 10 0 0 1 -10 -10 v-100 a 10 10 0 0 1 10 -10 h70 M167.5,37.5 a 3 3 0 0 0 3 3 M 147.5,37.5 a 25 25 0 0 0 25 25 M 127.5,37.5 a 45 45 0 0 0 45 45 "}),"Broadcast")}),null),ico_ac_eco:c.a.createElement((function(){return c.a.createElement("svg",{className:[D.a.icon,D.a.eco,D.a.fill].join(" "),viewBox:"0 0 200 200"},c.a.createElement("path",{d:" M 90 70 Q 133 109,160 160 Q 60 160, 50 60 Q 47 48, 40 40 Q 190 50, 162 159 Q 110 70, 70 70 "}),"Eco")}),null)},re=c.a.memo((function(e){var t;return t=ce.hasOwnProperty(e.button.image)?ce[e.button.image]:c.a.createElement(G,{value:e.button.label}),c.a.createElement("div",{className:ne.a.button},c.a.createElement("button",{className:e.className,onClick:e.onClick},t),c.a.createElement("div",{className:ne.a.label},S.t(e.button.label)))})),ie=c.a.memo((function(e){var t;return t=ce.hasOwnProperty(e.signal.image)?ce[e.signal.image]:c.a.createElement(G,{value:e.signal.name}),c.a.createElement("div",{className:ne.a.button},c.a.createElement("button",{onClick:e.onClick},t),c.a.createElement("div",{className:ne.a.label},e.signal.name))})),oe=a(29),le=a.n(oe),se=n.memo((function(e){return"LIGHT"!==e.appliance.type?n.createElement("div",null,"Wrong appliance!!"):n.createElement("div",{className:le.a.buttons_light},n.createElement("div",{className:le.a.buttons},e.appliance.light.buttons.map((function(t,a){return n.createElement(re,{key:a,button:t,onClick:e.onButtonClick?function(a){e.onButtonClick(t)}:function(e){}})}))),n.createElement("div",{className:le.a.signals},e.appliance.signals.map((function(t,a){return n.createElement(ie,{key:a,signal:t,onClick:e.onSignalClick?function(a){e.onSignalClick(t)}:function(e){}})}))))})),ue=a(30),me=a.n(ue),pe=n.memo((function(e){return"TV"!==e.appliance.type?n.createElement("div",null,"Wrong appliance!!"):n.createElement("div",{className:me.a.buttons_tv},n.createElement("div",{className:me.a.buttons},e.appliance.tv.buttons.map((function(t,a){return n.createElement(re,{key:a,button:t,onClick:e.onButtonClick?function(a){e.onButtonClick(t)}:function(e){}})}))),n.createElement("div",{className:me.a.signals},e.appliance.signals.map((function(t,a){return n.createElement(ie,{key:a,signal:t,onClick:e.onSignalClick?function(a){e.onSignalClick(t)}:function(e){}})}))))})),he=a(20),ve=a.n(he),_e=n.memo((function(e){var t={vol:function(e){return{air_volume:e}},dir:function(e){return{air_direction:e}},temp:function(e){return{temperature:e}}};return n.createElement("div",null,Object.keys(e.range).map((function(a){return e.range[a].filter((function(e){return""!==e})).length>0&&n.createElement("label",{key:a},S.t(a),":",n.createElement("select",{className:a,defaultValue:e.setting[a],onChange:function(n){e.onChange&&e.onChange(t[a](n.target.value))}},e.range[a].map((function(e){return n.createElement("option",{value:e,key:e},e)}))))})))})),fe=n.memo((function(e){return"AC"!==e.appliance.type?n.createElement("div",null,"Wrong appliance!!"):n.createElement("div",{className:ve.a.buttons_ac},n.createElement("div",{className:ve.a.buttons},n.createElement("div",{className:ve.a.mode},n.createElement(re,{className:"power-off"===e.appliance.settings.button?ve.a.on:"",button:{name:S.t("power"),image:"",label:S.t("OFF")},onClick:function(t){e.onChange&&e.onChange({button:"power-off"})}}),Object.keys(e.appliance.aircon.range.modes).map((function(t){return n.createElement(re,{key:t,className:""===e.appliance.settings.button&&e.appliance.settings.mode===t?ve.a.on:"",button:{name:S.t(t),image:"ico_ac_"+t,label:S.t(t)},onClick:function(a){e.onChange&&e.onChange({operation_mode:t})}},t)}))),n.createElement("div",{className:ve.a.settings},e.appliance.settings&&e.appliance.aircon.range.modes[e.appliance.settings.mode]&&n.createElement(_e,{setting:e.appliance.settings,range:e.appliance.aircon.range.modes[e.appliance.settings.mode],onChange:e.onChange}))),n.createElement("div",{className:ve.a.signals},e.appliance.signals.map((function(t,a){return n.createElement(ie,{key:a,signal:t,onClick:e.onSignalClick?function(a){e.onSignalClick(t)}:function(e){}})}))))})),de=a(36),ge=a.n(de),Ee=n.memo((function(e){return"IR"!==e.appliance.type?n.createElement("div",null,"Wrong appliance!!"):n.createElement("div",{className:ge.a.buttons_ir},n.createElement("div",{className:ge.a.signals},e.appliance.signals.map((function(t,a){return n.createElement(ie,{key:a,signal:t,onClick:e.onSignalClick?function(a){e.onSignalClick(t)}:function(e){}})}))))})),we=function(e){function t(){return Object(_.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(f.a)(t,[{key:"sendLightButton",value:function(){var e=Object(M.a)(T.a.mark((function e(t){var a,n,c=this;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.SendLightButton(this.props.match.params.id,t.name);case 2:a=e.sent,(n=this.props.appliances.filter((function(e){return e.id===c.props.match.params.id}))[0]).light.state=a,this.props.updateAppliance(this.props.match.params.id,n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendTVButton",value:function(e){C.SendTVButton(this.props.match.params.id,e.name)}},{key:"sendSignal",value:function(e){C.SendSignal(e.id)}},{key:"sendAriconSettings",value:function(){var e=Object(M.a)(T.a.mark((function e(t,a){var n,c,r=this;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.SendAirconSettings(t,a);case 2:n=e.sent,(c=this.props.appliances.filter((function(e){return e.id===r.props.match.params.id}))[0]).settings=n,this.props.updateAppliance(this.props.match.params.id,c);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.appliances.filter((function(t){return t.id===e.props.match.params.id}));if(t.length<1)return c.a.createElement("div",null,"Wrong data!!");var a=t[0];switch(a.type){case"LIGHT":return c.a.createElement(se,{appliance:a,onSignalClick:function(t){e.sendSignal(t)},onButtonClick:function(t){e.sendLightButton(t)}});case"IR":return c.a.createElement(Ee,{appliance:a,onSignalClick:function(t){e.sendSignal(t)}});case"TV":return c.a.createElement(pe,{appliance:a,onSignalClick:function(t){e.sendSignal(t)},onButtonClick:function(t){e.sendTVButton(t)}});case"AC":return c.a.createElement(fe,{appliance:a,onSignalClick:function(t){e.sendSignal(t)},onChange:function(t){e.sendAriconSettings(e.props.match.params.id,t)}});default:return c.a.createElement("div",null,"Wrong data!!")}}}]),t}(c.a.Component),be=Object(o.b)(x,y)(we),ye=a(44),xe=a.n(ye),ke=function(e){function t(e){var a;Object(_.a)(this,t),a=Object(d.a)(this,Object(g.a)(t).call(this,e));var n=localStorage.getItem("access_token");return n?(C.setToken(n),C.GetDevices().then((function(t){t&&e.updateDevices(t)})),C.GetAppliances().then((function(t){t&&e.updateAppliances(t)})),a):Object(d.a)(a)}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return c.a.createElement(b.a,{basename:"/natureremo-webapp"},c.a.createElement("header",null,c.a.createElement(b.b,{to:"/",className:"logo"},c.a.createElement("img",{src:xe.a,alt:"logo"}),"RemoWebApp"),c.a.createElement(b.b,{to:"/config",className:"config"},c.a.createElement(q,null))),c.a.createElement("div",{id:"main"},c.a.createElement(w.c,null,c.a.createElement(w.a,{path:"/appliances/:id",component:Object(w.f)(be)}),c.a.createElement(w.a,{path:"/config",component:Object(w.f)(te)}),c.a.createElement(w.a,{path:"/",component:Object(w.f)(K)}))))}}]),t}(c.a.Component),Te=Object(o.b)(x,y)(ke),Me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ve(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(c.a.createElement(o.a,{store:v},c.a.createElement(Te,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/natureremo-webapp",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/natureremo-webapp","/service-worker.js");Me?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ve(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ve(t,e)}))}}()}},[[46,1,2]]]);
//# sourceMappingURL=main.935b9c41.chunk.js.map